# 对象之间的关系

- **依赖**

```plaintext
   +--------+     depends on     +--------+
   |  Car   |  --------------->  | Engine |
   +--------+                    +--------+
   | -model |                    | -type  |
   +--------+                    +--------+
```

**依赖**是类之间最基础的、 也是最微弱的关系类型。如果修改一个类的定义可能会造成另一个类的变化， 那么这两个类之间就存在依赖关系。
当你在代码中使用具体类的名称时， 通常意味着存在依赖关系。 例如在指定方法签名类型时， 或是通过调用构造函数对对象进行初始化时等。
通过让代码依赖接口或抽象类（而不是具体类），你可以降低其依赖程度。

> 依赖关系表示一个类依赖于另一个类的功能，通常是通过方法调用或数据传递。依赖关系通常是暂时的。

- **关联**

```plaintext
   +--------+     has    +--------+
   |  Car   | ---------->| Engine |
   +--------+            +--------+
   | -model |            | -type  |
   +--------+            +--------+
```

**关联**是一个对象使用另一对象或与另一对象进行交互的关系。在UML图中， 关联关系用起始于一个对象并指向其所使用的对象的简单箭头来表示。
顺带一提， 双向关联也是完全正常的， 这种情况就用双向箭头来表示。
关联可视为一种特殊类型的依赖，即一个对象总是拥有访问与其交互的对象的权限， 而简单的依赖关系并不会在对象间建立永久性的联系。

> 关联关系表示类之间的直接联系。关联的方向可以是单向的或双向的。通常，关联关系用于表示类之间的通信或依赖关系。

- **聚合**

```plaintext
   +---------+     whole        +---------+
   | School  |  --------------> | Student |
   +---------+                  +---------+
   | -name   |                  | -name   |
   +---------+                  +---------+
```

**聚合**是一种特殊类型的关联， 用于表示多个对象之间的"一对多"、"多对多"或"整体对部分"的关系。
通常在聚合关系中， 一个对象 "拥有" 一组其他对象， 并扮演着容器或集合的角色。 组件可以独立于容器存在， 也可以同时连接多个容器。
在UML图中， 聚合关系使用一端是空心菱形， 另一端指向组件的箭头来表示。

> 在聚合中，部分可以独立于整体存在，即部分类可以在多个整体类之间共享。

- **组合**

```plaintext
   +--------+     contains     +--------+
   |  House |  --------------> |  Room  |
   +--------+                  +--------+
   |-address|                  | -size  |
   +--------+                  +--------+
```

**组合**是一种特殊类型的聚合， 其中一个对象由一个或多个其他对象实例构成。 组合与其他关系的区别在于组件仅能作为容器的一部分存在。
在UML图中， 组合与聚合关系的符号相同， 但箭头起始处的菱形是实心的。

> 组合是一种特殊的聚合关系，表示“整体—部分”关系，但部分不能独立于整体存在。当整体被销毁时，部分也会被销毁。

## 总结

- **依赖**: 对类 B 进行修改会影响到类 A。
- **关联**: 对象 A 知道对象 B。 类 A 依赖于类 B。
- **聚合**: 对象 A 知道对象 B 且由 B 构成。 类 A 依赖于类 B。
- **组合**: 对象A知道对象B、 由B构成而且管理着B的生命周期。 类 A 依赖于类 B。
- **实现**: 类A定义的方法由接口B声明。 对象A可被视为对象B。 类 A 依赖于类 B。
- **继承**: 类A继承类B的接口和实现， 但是可以对其进行扩展。 对象 A 可被视为对象 B。 类 A 依赖于类 B。
